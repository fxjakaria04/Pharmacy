<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="public/output.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div id="wrapper" class="w-full flex">
        <aside class="hidden min-h-screen w-64 bg-slate-700 whitespace-nowrap text-white md:flex flex-col items-center">
            <a href="" class="py-2 pl-3 hover:bg-slate-600 w-full flex items-center gap-2 border-l-4 border-transparent">
                <i class="fa-solid fa-house"></i>
                <span>Dashboard</span>
            </a>
            <a href="" class="py-2 pl-3 hover:bg-slate-600 w-full flex items-center gap-2 border-l-4 border-green-500">
                <i class="fa-solid fa-house"></i>
                <span>Sale</span>
            </a>
            <a href="" class="py-2 pl-3 hover:bg-slate-600 w-full flex items-center gap-2 border-l-4 border-transparent">
                <i class="fa-solid fa-house"></i>
                <span>Dashboard</span>
            </a>
        </aside>
        <main class="bg-slate-200 w-full">
            <div class="bg-slate-100 w-[98%] my-4 m-auto p-3 flex flex-col gap-3">
                <select name="" id="" class="w-full border p-1 outline-none rounded-md">
                    <option value="">option 1</option>
                    <option value="">option 2</option>
                    <option value="">option 3</option>
                    <option value="">option 4</option>
                </select>
                <div class="w-full grid grid-cols-1 md:grid-cols-3 gap-2">
                    <div class="col-span-1 clear-start flex flex-col gap-2">
                        <p class="font-semibold">Account<span class="text-red-600">*</span></p>
                        <select name="" id="" class="w-full border p-1 outline-none rounded-md">
                            <option value="">option 1</option>
                            <option value="">option 2</option>
                            <option value="">option 3</option>
                            <option value="">option 4</option>
                        </select>
                    </div>
                    <div class="col-span-1 clear-start flex flex-col gap-2">
                        <p class="font-semibold">Date<span class="text-red-600">*</span></p>
                        <input type="date" name="" id="" class="w-full border p-1 outline-none rounded-md">
                    </div>
                    <div class="col-span-1 clear-start flex flex-col gap-2">
                        <p class="font-semibold">Doctor</p>
                        <select name="" id="" class="w-full border p-1 outline-none rounded-md">
                            <option value="">option 1</option>
                            <option value="">option 2</option>
                            <option value="">option 3</option>
                            <option value="">option 4</option>
                        </select>
                    </div>
                </div>
                <div class="w-full py-2 overflow-auto">
                    <table class="border whitespace-nowrap min-w-full" id="medicine-table">
                        <thead>
                          <tr class="bg-violet-600 text-white">
                            <th class="px-4 border-r">Sr</th>
                            <th class="px-4 border-r">Medicine</th>
                            <th class="px-4 border-r">Rack</th>
                            <th class="px-4 border-r">Expiry Date</th>
                            <th class="px-4 border-r">Qty</th>
                            <th class="px-4 border-r">Sale Price</th>
                            <th class="px-4 border-r">Bonus</th>
                            <th class="px-4 border-r">Available</th>
                            <th class="px-4 border-r">Amount</th>
                            <th class="px-4 border-r"></th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr id="hidden-row" class="hidden">
                            <td class="text-center py-1 border border-l-none">1</td>
                            <td class="text-center py-1 border border-l-none">Uremed</td>
                            <td class="text-center py-1 border border-l-none">Rack 5</td>
                            <td class="text-center py-1 border border-l-none">21/08/2025</td>
                            <td class="text-start py-1 w-20 border border-l-none">
                              <input type="number" class="w-full bg-transparent border border-gray-700 p-1">
                            </td>
                            <td class="text-center py-1 border border-l-none w-20">
                              <input type="number" class="w-full bg-transparent border border-gray-700 p-1">
                            </td>
                            <td class="text-center border border-l-none py-1 w-20">
                              <input type="number" class="w-full bg-transparent border border-gray-700 p-1">
                            </td>
                            <td class="text-center py-1 border border-l-none">64</td>
                            <td class="text-center py-1 border border-l-none">1</td>
                            <td class="text-center py-1 border border-l-none">
                              <button class="text-red-600 delete-row">
                                <i class="fa-solid fa-trash"></i>
                              </button>
                            </td>
                          </tr>
                          <tr>
                            <td></td>
                            <td class="p-1">
                              <select id="medicine-select" class="w-full bg-transparent border border-gray-700">
                                <option value="">- Select -</option>
                                <option value="Medicine -1">Medicine -1</option>
                                <option value="Medicine -2">Medicine -2</option>
                                <option value="Medicine -3">Medicine -3</option>
                                <option value="Medicine -4">Medicine -4</option>
                              </select>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      
                      <script>
                        // Medicine data
                        const medicinesData = {
                          "Medicine -1": { name: "Uremed", rack: "Rack 5", expiry: "21/08/2025", available: 64, amount: 1 },
                          "Medicine -2": { name: "Paracetamol", rack: "Rack 3", expiry: "12/12/2024", available: 120, amount: 2 },
                          "Medicine -3": { name: "Ibuprofen", rack: "Rack 7", expiry: "15/06/2025", available: 85, amount: 3 },
                          "Medicine -4": { name: "Amoxicillin", rack: "Rack 1", expiry: "22/03/2026", available: 50, amount: 4 },
                        };
                      
                        // Add event listener for the dropdown
                        document.getElementById("medicine-select").addEventListener("change", function () {
                          const selectedMedicine = this.value;
                          if (selectedMedicine && medicinesData[selectedMedicine]) {
                            if (!isMedicineAlreadyAdded(selectedMedicine)) {
                              addRow(medicinesData[selectedMedicine], selectedMedicine);
                            }
                          }
                          this.value = ""; // Reset dropdown
                        });
                      
                        // Function to check if a medicine is already added
                        function isMedicineAlreadyAdded(medicineName) {
                          const rows = document.querySelectorAll("#medicine-table tbody tr");
                          for (let row of rows) {
                            const medicineCell = row.querySelector("td:nth-child(2)");
                            if (medicineCell && medicineCell.textContent === medicineName) {
                              return true; // Medicine already exists
                            }
                          }
                          return false;
                        }
                      
                        // Function to add a new row
                        function addRow(medicine, medicineName) {
                          const table = document.getElementById("medicine-table").querySelector("tbody");
                          const newRow = document.createElement("tr");
                      
                          newRow.innerHTML = `
                            <td class="text-center py-1 border border-l-none">${table.querySelectorAll("tr").length - 1}</td>
                            <td class="text-center py-1 border border-l-none">${medicineName}</td>
                            <td class="text-center py-1 border border-l-none">${medicine.rack}</td>
                            <td class="text-center py-1 border border-l-none">${medicine.expiry}</td>
                            <td class="text-start py-1 w-20 border border-l-none">
                              <input type="number" class="w-full bg-transparent border border-gray-700 p-1">
                            </td>
                            <td class="text-center py-1 border border-l-none w-20">
                              <input type="number" class="w-full bg-transparent border border-gray-700 p-1">
                            </td>
                            <td class="text-center border border-l-none py-1 w-20">
                              <input type="number" class="w-full bg-transparent border border-gray-700 p-1">
                            </td>
                            <td class="text-center py-1 border border-l-none">${medicine.available}</td>
                            <td class="text-center py-1 border border-l-none">${medicine.amount}</td>
                            <td class="text-center py-1 border border-l-none">
                              <button class="text-red-600 delete-row">
                                <i class="fa-solid fa-trash"></i>
                              </button>
                            </td>
                          `;
                      
                          table.insertBefore(newRow, table.lastElementChild);
                      
                          // Add delete functionality
                          newRow.querySelector(".delete-row").addEventListener("click", function () {
                            newRow.remove();
                          });
                        }
                      </script>
                      
                      
                </div>
                <div class="w-full p-1 grid grid-cols-1 md:grid-cols-3 gap-3">
                    <div class="col-span-1 md:col-span-2 flex flex-col gap-2">
                        <span class="font-semibold text-slate-700">Note</span>
                        <textarea name="" id="" class="border h-52 outline-none p-1 bg-white"></textarea>
                    </div>
                    <div class="col-span-1 border">
                        <div class="w-full flex items-center justify-between border-b p-2">
                            <span class="border-r w-4/12 font-semibold">Subtotal</span>
                            <span class="font-semibold">0</span>
                        </div>
                        <div class="w-full flex items-center justify-between border-b p-2">
                            <span class="border-r w-4/12 font-semibold">Discount %</span>
                            <input type="number" name="" id="" placeholder="Enter Percentage" class="w-7/12 outline-none bg-transparent">
                        </div>
                        <div class="w-full flex items-center justify-between border-b p-2">
                            <span class="border-r w-4/12 font-semibold">Discount</span>
                            <input type="number" name="" id="" placeholder="Discount Amount" class="w-7/12 outline-none bg-transparent">
                        </div>
                        <div class="w-full flex items-center justify-between border-b p-2">
                            <span class="border-r w-4/12 font-semibold">Vat</span>
                            <input type="number" name="" id="" placeholder="Vat Amount" class="w-7/12 outline-none bg-transparent">
                        </div>
                        <div class="w-full flex items-center justify-between border-b p-2">
                            <span class="border-r w-4/12 font-semibold">Total</span>
                            <span class="font-semibold">0</span>
                        </div>
                        <div class="w-full flex items-center justify-between border-b p-2">
                            <span class="border-r w-4/12 font-semibold">Payment Method</span>
                            <select name="" id="" class="w-7/12 bg-transparent">
                                <option value="cash">- Cash -</option>
                                <option value="bkash">- bKash -</option>
                                <option value="naggad">- Naggad -</option>
                                <option value="card">- card -</option>
                            </select>
                        </div>
                        <div class="w-full flex items-center justify-between border-b p-2">
                            <span class="border-r w-4/12 font-semibold">Paid</span>
                            <input type="number" name="" id="" placeholder="Paid Amount" class="w-7/12 outline-none bg-transparent">
                        </div>
                        <div class="w-full flex items-center justify-between border-b p-2">
                            <span class="border-r w-4/12 font-semibold">Due</span>
                            <span class="font-semibold">0</span>
                        </div>
                        <div class="w-full flex items-center justify-between p-2">
                            <span class="border-r w-4/12 font-semibold">Change Amount</span>
                            <span class="font-semibold">0</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>
</body>
</html>